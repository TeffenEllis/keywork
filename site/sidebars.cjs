/**
 * @file This file is part of the Keywork project.
 * @copyright Nirrius, LLC. All rights reserved.
 * @author Teffen Ellis, et al.
 * @license AGPL-3.0
 *
 * @remarks Keywork is free software for non-commercial purposes.
 * You can be released from the requirements of the license by purchasing a commercial license.
 * Buying such a license is mandatory as soon as you develop commercial activities
 * involving the Keywork software without disclosing the source code of your own applications.
 *
 * @see LICENSE.md in the project root for further licensing information.
 */

/* eslint-disable @typescript-eslint/no-var-requires */
// @ts-check

// const fs = require('fs')
// const path = require('path')

// const moduleManifest = JSON.parse(
//   fs.readFileSync(path.resolve(__dirname, '..', 'docs', 'modules', 'module-manifest.json'))
// )

// const sidebarModules = moduleManifest.map((categoryConfig) => {
//   /** @type {import('@docusaurus/plugin-content-docs').PropSidebarItem} */
//   const item = {
//     type: 'category',
//     label: categoryConfig.label,
//     items: [
//       {
//         type: 'autogenerated',
//         dirName: categoryConfig.dirName,
//       },
//     ],
//   }

//   return item
// })

/** @type {import('@docusaurus/plugin-content-docs').SidebarsConfig} */
const sidebars = {
  // By default, Docusaurus generates a sidebar from the docs folder structure
  primarySidebar: [
    {
      type: 'doc',
      id: 'readme',
      label: 'Overview',
    },
    {
      type: 'category',
      label: 'Getting Started',
      items: [
        {
          type: 'autogenerated',
          dirName: 'getting-started',
        },
      ],
    },

    {
      type: 'category',
      collapsible: false,
      label: 'Community',
      items: [
        {
          type: 'link',
          href: 'https://github.com/nirrius/keywork',
          className: 'link-with-icon icon-github',
          label: 'GitHub',
        },

        'contributing',

        {
          type: 'link',
          href: 'https://github.com/nirrius/keywork/discussions',
          label: 'Forums',
        },

        'code-of-conduct',

        {
          type: 'category',
          label: 'External Resources',
          items: [
            {
              type: 'link',
              className: 'link-with-icon icon-stack-overflow',
              label: 'Stack Overflow',
              href: 'https://stackoverflow.com/questions/tagged/keywork',
            },

            {
              type: 'category',
              label: 'Cloudflare',
              items: [
                {
                  type: 'link',
                  label: 'Developer Discord',
                  href: 'https://discord.gg/cloudflaredev',
                },
                {
                  type: 'link',
                  label: 'Workers Docs',
                  href: 'https://workers.cloudflare.com/',
                },
              ],
            },

            {
              type: 'category',
              label: 'Deno',
              items: [
                {
                  type: 'link',
                  label: 'Deply Docs',
                  href: 'https://deno.com/deploy/docs',
                },
              ],
            },
          ],
        },
      ],
    },

    {
      type: 'category',
      label: 'Licensing',
      link: { id: 'licensing', title: 'foobar' },
      items: [
        {
          type: 'autogenerated',
          dirName: 'licensing',
        },
      ],
    },

    // ...sidebarModules,

    {
      type: 'autogenerated',
      dirName: 'modules',
    },
  ],
}

module.exports = sidebars
